{"version":3,"sources":["stylesheets/game_class.png","serviceWorker.ts","types/game.ts","store/actions.ts","store/state.ts","types/globals.ts","types/helpers.ts","store/reducers.ts","store/index.ts","ui/TopBar.tsx","ui/Intro.tsx","ui/Container.tsx","ui/Parachute.tsx","ui/SelectCoalition.tsx","ui/OfferForm.tsx","ui/AckForm.tsx","ui/Finished.tsx","containers/AppContainer.tsx","ui/App.tsx","index.tsx"],"names":["module","exports","Boolean","window","location","hostname","match","Player","Actions","allPlayers","P1","P2","P3","defaultState","screen","coalitionsValues","players","currentTurn","coalitionForOffer","offers","reason","states","CoalitionsCombinations","getPlayerName","player","getParticipants","coalitionId","isOfferFinished","o","finiteStatus","status","indexOf","isOfferAccepted","acceptStatus","s","isOfferRejected","getMissingPlayer","c","latestAcceptedOffer","slice","reverse","find","appReducer","state","action","type","START_GAME","payload","gameCoalitionsValues","offer","cleanState","RESTART_GAME","SELECT_COALITION","selectedCoalition","SUBMIT_OFFER","actor","split","users","forEach","u","RESPOND_OFFER","resOfferActor","lastOffer","pop","UNDO","lastState","length","GIVE_UP","res","logger","getState","next","console","groupCollapsed","log","returnValue","groupEnd","TopBar","props","className","onClick","onUndo","onStartGame","onIntroClick","Intro","src","game_class_img","alt","Container","children","Parachute","ValueButton","PlayerButton","SelectCoalition","ActualSelection","onGiveUp","coalitions","coalitionsForPlayer","map","idx","key","onCoalitionSelect","SingleCoal","txt","getCoalitionString","CurrentAgreement","p","OfferForm","onOfferSubmit","useState","input","setInput","onChangeHandler","value","onSubmit","event","preventDefault","onChange","disabled","PlayerInput","e","parseInt","target","AckForm","onOfferRespond","latestOffer","handleOnClick","SingleSelect","SingleOffer","getSuggestedBy","getRejectedBy","ListOfOffers","FinishScreen","lao","defaultGame","defaultOffer","AppContainer","connect","dispatch","selectCoalition","onGameRestart","onGameStart","gameValues","offerFrom","submitOffer","response","Fragment","store","initialState","composeEnhancers","composeWithDevTools","createStore","applyMiddleware","thunk","storeFactory","localStorage","JSON","parse","subscribe","stringify","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.79bba3ee.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/game_class.b52faa08.png\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","export enum Player {\n  P1 = \"P1\",\n  P2 = \"P2\",\n  P3 = \"P3\",\n}\n\nexport const allPlayers = [Player.P1, Player.P2, Player.P3];\n\nexport interface GameCoalitionsValues {\n  \"12\": number;\n  \"13\": number;\n  \"23\": number;\n  \"123\": number;\n}\n\nexport const defaultGameCoalitionsValues: GameCoalitionsValues = {\n  \"12\": 0,\n  \"13\": 0,\n  \"23\": 0,\n  \"123\": 0,\n};\n\nexport type CoalitionId = keyof GameCoalitionsValues;\n\nexport type Split = { [key in Player]: number };\n\nexport type AckStatus =\n  | \"PROPOSED\"\n  | \"ACCEPTED\"\n  | \"REJECTED\"\n  | \"NON_RELEVANT\"\n  | \"TBD\";\n\nexport type respStatus = \"ACCEPT\" | \"REJECT\";\n\nexport interface Offer {\n  actor: Player;\n  selectedCoalition: CoalitionId;\n  split: Split;\n  [Player.P1]: AckStatus;\n  [Player.P2]: AckStatus;\n  [Player.P3]: AckStatus;\n}\n\n// // Defines the enum of players. TODO\n// export enum Player {\n//   P1 = \"P1\",\n//   P2 = \"P2\",\n//   P3 = \"P3\",\n// }\n//\n// export const SETUP_SCREEN = \"SETUP_SCREEN\";\n// export const GAME_SCREEN = \"GAME_SCREEN\";\n//\n// // Defines screen types.\n// export type ScreenType = typeof SETUP_SCREEN | typeof GAME_SCREEN;\n//\n// // // Defines all possible coalitions.\n// // export interface GameCoalitions {\n// //   value12: number;\n// //   value23: number;\n// //   value13: number;\n// //   value123: number;\n// // }\n//\n// export const GameCoalitionsZeroValue: GameCoalitionsValues = {\n//   \"12\": 0,\n//   \"13\": 0,\n//   \"23\": 0,\n//   \"123\": 0,\n// };\n//\n// export interface IPlayer {\n//   name: string;\n// }\n//\n// export interface Player1 extends IPlayer {\n//   id: Player.P1;\n// }\n//\n// export interface Player2 extends IPlayer {\n//   id: Player.P2;\n// }\n//\n// export interface Player3 extends IPlayer {\n//   id: Player.P3;\n// }\n//\n// export type CoalitionsCombination =\n//   | [Player.P1, Player.P2]\n//   | [Player.P1, Player.P3]\n//   | [Player.P2, Player.P3]\n//   | [Player.P1, Player.P2, Player.P3];\n//\n// export interface GameCoalitionsCombination {\n//   \"12\": [Player.P1, Player.P2];\n//   \"13\": [Player.P1, Player.P3];\n//   \"23\": [Player.P2, Player.P3];\n//   \"123\": [Player.P1, Player.P2, Player.P3];\n// }\n//\n// export interface GameCoalitionsValues {\n//   \"12\": number;\n//   \"13\": number;\n//   \"23\": number;\n//   \"123\": number;\n// }\n//\n// export type CoalitionId = keyof GameCoalitionsCombination;\n//\n// export interface Coalition {\n//   members: CoalitionsCombination;\n// }\n//\n// export type Split = { [key in Player]: number } & { coalitionId: CoalitionId };\n","import {\n  CoalitionId,\n  GameCoalitionsValues,\n  Offer,\n  Player,\n  respStatus,\n  Split,\n} from \"../types/game\";\n\nexport enum Actions {\n  START_GAME = \"START_GAME\",\n  CONFIGURE_GAME = \"CONFIGURE_GAME\",\n  RESTART_GAME = \"RESTART_GAME\",\n  SELECT_COALITION = \"SELECT_COALITION\",\n  SUBMIT_OFFER = \"SUBMIT_OFFER\",\n  RESPOND_OFFER = \"RESPOND_OFFER\",\n  UNDO = \"UNDO\",\n  // ACCEPT_OFFER = \"ACCEPT_OFFER\",\n  // REJECT_OFFER = \"REJECT_OFFER\",\n  BACK = \"BACK\",\n  GIVE_UP = \"GIVE_UP\",\n}\n\nexport const giveUp = (): GiveUpAction => {\n  return {\n    type: Actions.GIVE_UP,\n    payload: {},\n  };\n};\n\nexport const undo = (): UndoAction => {\n  return {\n    type: Actions.UNDO,\n    payload: {},\n  };\n};\n\nexport const respondOffer = (\n  actor: Player,\n  status: respStatus\n): RespondOfferAction => {\n  return {\n    type: Actions.RESPOND_OFFER,\n    payload: {\n      actor: actor,\n      status: status,\n    },\n  };\n};\n\nexport const startGame = (\n  gameValues: GameCoalitionsValues,\n  offer: Offer\n): StartGameAction => {\n  return {\n    type: Actions.START_GAME,\n    payload: {\n      gameCoalitionsValues: gameValues,\n      offer: offer,\n    },\n  };\n};\n\nexport const restartGame = (): RestartAction => {\n  return {\n    type: Actions.RESTART_GAME,\n    payload: {},\n  };\n};\n\nexport const selectCoalition = (c: CoalitionId): SelectCoalitionAction => {\n  return {\n    type: Actions.SELECT_COALITION,\n    payload: {\n      selectedCoalition: c,\n    },\n  };\n};\n\nexport const submitOffer = (\n  split: Split,\n  coalitionId: CoalitionId,\n  offerFrom: Player\n): SubmitOfferAction => {\n  return {\n    type: Actions.SUBMIT_OFFER,\n    payload: {\n      actor: offerFrom,\n      selectedCoalition: coalitionId,\n      split: split,\n    },\n  };\n};\n\ninterface StartGameAction {\n  type: Actions.START_GAME;\n  payload: {\n    gameCoalitionsValues: GameCoalitionsValues;\n    offer: Offer;\n  };\n}\n\ninterface ConfigureAction {\n  type: Actions.CONFIGURE_GAME;\n  payload: {\n    gameCoalitionsValues: GameCoalitionsValues;\n  };\n}\n\ninterface RestartAction {\n  type: Actions.RESTART_GAME;\n  payload: {};\n}\n\ninterface SelectCoalitionAction {\n  type: Actions.SELECT_COALITION;\n  payload: {\n    selectedCoalition: CoalitionId;\n  };\n}\n\ninterface SubmitOfferAction {\n  type: Actions.SUBMIT_OFFER;\n  payload: {\n    actor: Player;\n    selectedCoalition: CoalitionId;\n    split: Split;\n  };\n}\n\n//\ninterface UndoAction {\n  type: Actions.UNDO;\n  payload: {};\n}\n\ninterface GiveUpAction {\n  type: Actions.GIVE_UP;\n  payload: {};\n}\n\ninterface RespondOfferAction {\n  type: Actions.RESPOND_OFFER;\n  payload: {\n    actor: Player;\n    status: respStatus;\n  };\n}\n\nexport type GameAction =\n  | StartGameAction\n  | ConfigureAction\n  | SelectCoalitionAction\n  | RestartAction\n  | SubmitOfferAction\n  | RespondOfferAction\n  | UndoAction\n  | GiveUpAction;\n","import {\n  CoalitionId,\n  defaultGameCoalitionsValues,\n  GameCoalitionsValues,\n  Offer,\n  Player,\n} from \"../types/game\";\n\nexport type GameScreen = \"INTRO\" | \"SELECT_COAL\" | \"OFFER\" | \"ACK\" | \"FINISHED\";\nexport type ChangeReason = \"OFFER_REJECTED\" | \"OFFER_ACCEPTED\";\n\nexport interface StateShape {\n  // gameCoalitions: GameCoalitionsValues;\n  // screen: ScreenType;\n  // gamePlay: GamePlayState;\n  coalitionsValues: GameCoalitionsValues;\n  screen: GameScreen;\n  players: Array<Player>;\n  currentTurn: Player;\n  coalitionForOffer: CoalitionId;\n  offers: Array<Offer>;\n  reason: ChangeReason;\n  states: Array<StateShape>;\n}\n\nexport const defaultState: StateShape = {\n  screen: \"INTRO\",\n  coalitionsValues: defaultGameCoalitionsValues,\n  players: [Player.P1, Player.P2, Player.P3],\n  currentTurn: Player.P1,\n  coalitionForOffer: \"23\",\n  offers: [],\n  reason: \"OFFER_ACCEPTED\",\n  states: [],\n\n  // gameCoalitions: GameCoalitionsZeroValue,\n  // screen: SETUP_SCREEN,\n  // gamePlay: initialGamePlayState,\n};\n","import { Player } from \"./game\";\n\nexport interface GameCoalitionsCombination {\n  \"12\": Array<Player>;\n  \"13\": Array<Player>;\n  \"23\": Array<Player>;\n  \"123\": Array<Player>;\n}\n\nexport const CoalitionsCombinations: GameCoalitionsCombination = {\n  \"12\": [Player.P1, Player.P2],\n  \"13\": [Player.P1, Player.P3],\n  \"23\": [Player.P2, Player.P3],\n  \"123\": [Player.P1, Player.P2, Player.P3],\n};\n","import { AckStatus, CoalitionId, Offer, Player } from \"./game\";\nimport { CoalitionsCombinations } from \"./globals\";\n\n/**\n * This is temporal until we get the player name form state\n * @param player\n */\nexport const getPlayerName = (player: Player) => {\n  switch (player) {\n    case Player.P1:\n      // return \"Player One\";\n      return \"P1\";\n    case Player.P2:\n      // return \"Player Two\";\n      return \"P2\";\n    case Player.P3:\n      return \"P3\";\n    // return \"Player Three\";\n  }\n};\n\n/**\n * This is temporal until we get the player name form state\n * @param player\n */\nexport const coalitionsForPlayer = (player: Player): Array<CoalitionId> => {\n  switch (player) {\n    case Player.P1:\n      return [\"12\", \"13\", \"123\"];\n    case Player.P2:\n      return [\"12\", \"23\", \"123\"];\n    case Player.P3:\n      return [\"13\", \"23\", \"123\"];\n  }\n};\n\nexport const getParticipants = (coalitionId: CoalitionId): Array<Player> => {\n  return CoalitionsCombinations[coalitionId];\n};\n\nexport const getCoalitionString = (c: CoalitionId) => {\n  switch (c) {\n    case \"12\":\n      return `Coalition of ${getPlayerName(Player.P1)} and ${getPlayerName(\n        Player.P2\n      )}`;\n    case \"13\":\n      return `Coalition of ${getPlayerName(Player.P1)} and ${getPlayerName(\n        Player.P3\n      )}`;\n    case \"23\":\n      return `Coalition of ${getPlayerName(Player.P2)} and ${getPlayerName(\n        Player.P3\n      )}`;\n    case \"123\":\n      return `Coalition of ${getPlayerName(Player.P1)}, ${getPlayerName(\n        Player.P2\n      )} and ${getPlayerName(Player.P3)}`;\n  }\n};\n\nexport const isOfferFinished = (o: Offer) => {\n  return (\n    finiteStatus(o[Player.P1]) &&\n    finiteStatus(o[Player.P2]) &&\n    finiteStatus(o[Player.P3])\n  );\n};\n\nexport const finiteStatus = (status: AckStatus) => {\n  const finiteStatuses = [\"PROPOSED\", \"ACCEPTED\", \"REJECTED\", \"NON_RELEVANT\"];\n  return finiteStatuses.indexOf(status) !== -1;\n};\n\nexport const isOfferAccepted = (o: Offer) => {\n  const acceptStatus = (s: AckStatus) => {\n    const acceptStatuses = [\"PROPOSED\", \"ACCEPTED\", \"NON_RELEVANT\"];\n    return acceptStatuses.indexOf(s) !== -1;\n  };\n\n  return (\n    acceptStatus(o[Player.P1]) &&\n    acceptStatus(o[Player.P2]) &&\n    acceptStatus(o[Player.P3])\n  );\n};\n\nexport const isOfferRejected = (o: Offer) => {\n  return isOfferFinished(o) && !isOfferAccepted(o);\n};\n\nexport const getMissingPlayer = (c: CoalitionId) => {\n  switch (c) {\n    case \"123\":\n      return Player.P1;\n    case \"23\":\n      return Player.P1;\n    case \"13\":\n      return Player.P2;\n    case \"12\":\n      return Player.P3;\n  }\n};\n\nexport const latestAcceptedOffer = (offers: Array<Offer>) => {\n  return offers.slice().reverse().find(isOfferAccepted)!;\n};\n","import { defaultState, GameScreen, StateShape } from \"./state\";\nimport { Actions, GameAction } from \"./actions\";\nimport {\n  getMissingPlayer,\n  getParticipants,\n  isOfferAccepted,\n  isOfferFinished,\n  isOfferRejected,\n} from \"../types/helpers\";\nimport { Offer } from \"../types/game\";\n\nexport const appReducer = (\n  state: StateShape = defaultState,\n  action: GameAction\n): StateShape => {\n  switch (action.type) {\n    case Actions.START_GAME:\n      return {\n        ...state,\n        screen: \"SELECT_COAL\",\n        coalitionsValues: action.payload.gameCoalitionsValues,\n        offers: [action.payload.offer],\n        states: [...state.states, cleanState(state)],\n      };\n    case Actions.RESTART_GAME:\n      return { ...state, screen: \"INTRO\" };\n    case Actions.SELECT_COALITION:\n      return {\n        ...state,\n        screen: \"OFFER\",\n        coalitionForOffer: action.payload.selectedCoalition,\n        states: [...state.states, cleanState(state)],\n      };\n    case Actions.SUBMIT_OFFER:\n      const { actor, selectedCoalition, split } = action.payload;\n      const users = getParticipants(selectedCoalition);\n      const offer: Offer = {\n        actor,\n        selectedCoalition,\n        split,\n        P1: \"NON_RELEVANT\",\n        P2: \"NON_RELEVANT\",\n        P3: \"NON_RELEVANT\",\n      };\n      users.forEach((u) => (offer[u] = \"TBD\"));\n      offer[actor] = \"PROPOSED\";\n\n      return {\n        ...state,\n        screen: \"ACK\",\n        offers: [...state.offers, offer],\n        states: [...state.states, cleanState(state)],\n      };\n    case Actions.RESPOND_OFFER:\n      const { actor: resOfferActor, status } = action.payload;\n      const lastOffer = { ...state.offers.pop()! };\n\n      if (status === \"ACCEPT\") {\n        lastOffer[resOfferActor] = \"ACCEPTED\";\n      }\n\n      if (status === \"REJECT\") {\n        lastOffer[resOfferActor] = \"REJECTED\";\n      }\n\n      if (!isOfferFinished(lastOffer)) {\n        return {\n          ...state,\n          offers: [...state.offers, lastOffer],\n          states: [...state.states, cleanState(state)],\n        };\n      }\n\n      //offer finished\n      if (isOfferRejected(lastOffer)) {\n        return {\n          ...state,\n          offers: [...state.offers, lastOffer],\n          reason: \"OFFER_REJECTED\",\n          screen: \"SELECT_COAL\",\n          states: [...state.states, cleanState(state)],\n        };\n      }\n\n      if (isOfferAccepted(lastOffer)) {\n        let screen: GameScreen = \"SELECT_COAL\";\n\n        if (lastOffer.selectedCoalition === \"123\") {\n          screen = \"FINISHED\";\n        }\n\n        return {\n          ...state,\n          offers: [...state.offers, lastOffer],\n          reason: \"OFFER_ACCEPTED\",\n          screen: screen,\n          currentTurn: getMissingPlayer(lastOffer.selectedCoalition),\n          states: [...state.states, cleanState(state)],\n        };\n      }\n\n      throw \"Should not happen\";\n\n    case Actions.UNDO:\n      if (state.states) {\n        const lastState = state.states[state.states.length - 1];\n\n        return {\n          ...lastState,\n          states: state.states.slice(0, -1),\n        };\n      }\n\n      return { ...state };\n\n    case Actions.GIVE_UP:\n      return {\n        ...state,\n        states: [...state.states, cleanState(state)],\n        screen: \"FINISHED\",\n      };\n\n    default:\n      return {\n        ...state,\n      };\n  }\n};\n\nconst cleanState = (s: StateShape): StateShape => {\n  const res = { ...s };\n  res.states = [];\n  return res;\n};\n","import {\n  applyMiddleware,\n  createStore,\n  Dispatch,\n  Middleware,\n  MiddlewareAPI,\n} from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { defaultState } from \"./state\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { appReducer } from \"./reducers\";\n\nconst logger = () => {\n  const loggerMiddleware: Middleware = ({ getState }: MiddlewareAPI) => (\n    next: Dispatch\n  ) => (action) => {\n    console.groupCollapsed(`dispatching action => ${action.type}`);\n    console.log(\"will dispatch\", action);\n\n    // Call the next dispatch method in the middleware chain.\n    const returnValue = next(action);\n\n    console.log(\"state after dispatch\", getState());\n    console.groupEnd();\n    // This will likely be the action itself, unless\n    // a middleware further in chain changed it.\n    return returnValue;\n  };\n\n  return loggerMiddleware;\n};\n\nexport const storeFactory = (initialState = defaultState) => {\n  const composeEnhancers = composeWithDevTools({});\n  return createStore(\n    appReducer,\n    initialState,\n    composeEnhancers(applyMiddleware(thunk, logger()))\n  );\n};\n","import React from \"react\";\nimport { GameScreen } from \"../store/state\";\n\ninterface topBarProps {\n  onStartGame: () => void;\n  onIntroClick: () => void;\n  onUndo: () => void;\n  screen: GameScreen;\n}\n\nexport const TopBar = (props: topBarProps) => {\n  return (\n    <div className={\"root_topbar\"}>\n      <span className={\"root_topbar_title\"}>The Coalition Parachute game</span>\n      <span>\n        <button className={\"root_topbar_button\"} onClick={props.onUndo}>\n          Undo\n        </button>\n        {props.screen === \"INTRO\" && (\n          <button className={\"root_topbar_button\"} onClick={props.onStartGame}>\n            Start Game\n          </button>\n        )}\n        {props.screen !== \"INTRO\" && (\n          <button className={\"root_topbar_button\"} onClick={props.onIntroClick}>\n            Restart\n          </button>\n        )}\n      </span>\n    </div>\n  );\n};\n","import React from \"react\";\nimport game_class_img from \"../stylesheets/game_class.png\";\n\ninterface introProps {}\n\nexport const Intro = (props: introProps) => {\n  return (\n    <div className={\"intro_root\"}>\n      <p>{`This game is going to simulate the parachute game we did in class, playing in turns, On each turn a player \n    will have the chance to make an offer to the other participants to join him, create a coalition, and share the \n    point of the coalition they have created.`}</p>\n      <p>\n        {`Pay attention that the point of the coalition you create are not split evenly and try to get the best value \n      you can in the current game set`}\n      </p>\n      <p>{\"Good luck\"}</p>\n      <img className={\"intro_img\"} src={game_class_img} alt={\"parachute\"} />\n    </div>\n  );\n};\n","import React, { PropsWithChildren } from \"react\";\n\ninterface containerProps {\n  className: string;\n}\n\nexport const Container = (props: PropsWithChildren<containerProps>) => {\n  const { className, children } = props;\n\n  return <div className={className}>{children}</div>;\n};\n","import React, { PropsWithChildren } from \"react\";\nimport { GameCoalitionsValues, Player } from \"../types/game\";\n// import {GameCoalitionsValues, Player} from \"../../types/game\";\n// import {getPlayerName} from \"../../types/helpers\";\n\n// const useStyles = makeStyles((theme) => ({\n//   root: {\n//     width: \"480px\",\n//     minWidth: \"480px\",\n//     padding: \"20px\",\n//     backgroundImage: `url(${parachuteImg})`,\n//     backgroundSize: \"cover\",\n//     margin: \"auto\",\n//     \"& > div > *\": {\n//       border: \"1px solid\",\n//       flexBasis: \"15%\",\n//       textAlign: \"center\",\n//       borderRadius: \"10px\",\n//     },\n//   },\n//   top: {\n//     display: \"flex\",\n//     justifyContent: \"center\",\n//   },\n//   second: {\n//     marginTop: \"25px\",\n//     display: \"flex\",\n//     alignItems: \"center\",\n//     justifyContent: \"space-around\",\n//   },\n//   bottom: {\n//     display: \"flex\",\n//     justifyContent: \"center\",\n//     marginTop: \"175px\",\n//   },\n//   rowOfPlayers: {\n//     marginTop: \"25px\",\n//     color: \"green\",\n//     display: \"flex\",\n//     justifyContent: \"space-between\",\n//   },\n// }));\n\ninterface ParachuteProps {\n  coalitionsValues: GameCoalitionsValues;\n  players: Player[];\n}\n\nexport const Parachute = (props: ParachuteProps) => {\n  const { coalitionsValues, players } = props;\n\n  return (\n    <div className={\"par_root\"}>\n      <div className={\"par_top\"}>\n        <ValueButton>{coalitionsValues[\"13\"]}</ValueButton>\n      </div>\n      <div className={\"par_second\"}>\n        <ValueButton>{coalitionsValues[\"12\"]}</ValueButton>\n        <ValueButton>{coalitionsValues[\"23\"]}</ValueButton>\n      </div>\n      <div className={\"par_row_of_players\"}>\n        <PlayerButton>{players[0]}</PlayerButton>\n        <PlayerButton>{players[1]}</PlayerButton>\n        <PlayerButton>{players[2]}</PlayerButton>\n      </div>\n      <div className={\"par_bottom\"}>\n        <ValueButton>{coalitionsValues[\"123\"]}</ValueButton>\n      </div>\n    </div>\n  );\n};\n\nconst ValueButton = (props: PropsWithChildren<{}>) => {\n  return <button className={\"value_button\"}>{props.children}</button>;\n  // return (\n  //   <Button\n  //     variant={\"outlined\"}\n  //     size={\"small\"}\n  //     disableRipple={true}\n  //     style={{cursor: \"default\"}}\n  //   >\n  //     {props.children}\n  //   </Button>\n  // );\n};\n\nconst PlayerButton = (props: PropsWithChildren<{}>) => {\n  return <button className={\"player_button\"}>{props.children}</button>;\n  // return (\n  //   <Button\n  //     size={\"small\"}\n  //     variant={\"contained\"}\n  //     disableRipple={true}\n  //     style={{cursor: \"default\"}}\n  //   >\n  //     {props.children}\n  //   </Button>\n  // );\n};\n","import React from \"react\";\nimport { Parachute } from \"./Parachute\";\nimport {\n  CoalitionId,\n  GameCoalitionsValues,\n  Offer,\n  Player,\n} from \"../types/game\";\nimport {\n  coalitionsForPlayer,\n  getCoalitionString,\n  getPlayerName,\n  latestAcceptedOffer,\n} from \"../types/helpers\";\n\ninterface selectCoalitionProps {\n  coalitionsValues: GameCoalitionsValues;\n  players: Player[];\n  currentTurn: Player;\n  onCoalitionSelect: (c: CoalitionId) => void;\n  offers: Array<Offer>;\n  onGiveUp: () => void;\n}\n\nexport const SelectCoalition = (props: selectCoalitionProps) => {\n  return (\n    <div className={\"coal_select_root\"}>\n      <Parachute {...props} />\n      <div>{`Its ${getPlayerName(\n        props.currentTurn\n      )}'s Turn to make an offer:`}</div>\n      <CurrentAgreement\n        latestAcceptedOffer={latestAcceptedOffer(props.offers)!}\n      />\n      <ActualSelection {...props} />\n    </div>\n  );\n};\n\nconst ActualSelection = (props: selectCoalitionProps) => {\n  const { coalitionsValues, currentTurn, onGiveUp } = props;\n  const coalitions = coalitionsForPlayer(currentTurn);\n\n  return (\n    <div className={\"coal_selections\"}>\n      {coalitions.map((c: CoalitionId, idx: number) => (\n        <SingleCoal\n          key={idx}\n          coalitionsValues={coalitionsValues}\n          coalitionId={c}\n          onCoalitionSelect={props.onCoalitionSelect}\n        />\n      ))}\n      <div className={\"give_up_root\"}>\n        <p>{\"Can't offer anything better.\"}</p>\n        <button onClick={onGiveUp} className={\"give_up_btn\"}>\n          Give up\n        </button>\n      </div>\n    </div>\n  );\n};\n\ninterface singleCoalProps {\n  coalitionId: CoalitionId;\n  coalitionsValues: GameCoalitionsValues;\n  onCoalitionSelect: (c: CoalitionId) => void;\n}\n\nconst SingleCoal = (props: singleCoalProps) => {\n  const { coalitionId, coalitionsValues, onCoalitionSelect } = props;\n  const txt = getCoalitionString(props.coalitionId);\n\n  const onClickHandler = () => {\n    return onCoalitionSelect(coalitionId);\n  };\n\n  return (\n    <div className={\"single_coal_selection\"}>\n      <p>{`${txt}`}</p>\n      <p>{`value: ${coalitionsValues[coalitionId]}`}</p>\n      <button onClick={onClickHandler}>Select</button>\n    </div>\n  );\n};\n\ninterface agreementProps {\n  latestAcceptedOffer: Offer;\n}\n\nconst CurrentAgreement = (props: agreementProps) => {\n  const { latestAcceptedOffer: o } = props;\n\n  return (\n    <div className={\"aggr\"}>\n      <p>\n        If nobody will accept any offers, The split will be As follows:\n        <br />\n        {[Player.P1, Player.P2, Player.P3].map((p, idx) => {\n          return (\n            <span key={idx} className={\"aggr_split\"}>\n              {`${p} will get:`}\n              <span className={\"value\"}>{`${o.split[p]}`}</span>\n            </span>\n          );\n        })}\n      </p>\n    </div>\n  );\n};\n","import {\n  CoalitionId,\n  GameCoalitionsValues,\n  Offer,\n  Player,\n  Split,\n} from \"../types/game\";\nimport React, { ChangeEvent, FormEventHandler, useState } from \"react\";\nimport { getParticipants, latestAcceptedOffer } from \"../types/helpers\";\nimport { Parachute } from \"./Parachute\";\n\ninterface props {\n  coalitionForOffer: CoalitionId;\n  coalitionsValues: GameCoalitionsValues;\n  players: Player[];\n  currentTurn: Player;\n  onOfferSubmit: (\n    split: Split,\n    coalitionId: CoalitionId,\n    offerFrom: Player\n  ) => void;\n  offers: Array<Offer>;\n}\n\nexport const OfferForm = (props: props) => {\n  const {\n    coalitionForOffer,\n    coalitionsValues,\n    onOfferSubmit,\n    currentTurn,\n    offers,\n  } = props;\n  const [input, setInput] = useState<Split>({\n    P1: 0,\n    P2: 0,\n    P3: 0,\n  });\n\n  const players = getParticipants(coalitionForOffer);\n\n  const handleSubmit: FormEventHandler = (\n    event: ChangeEvent<HTMLInputElement>\n  ) => {\n    event.preventDefault();\n    onOfferSubmit(input, coalitionForOffer, currentTurn);\n  };\n\n  const onChangeHandler = (p: Player) => (value: number) => {\n    const res = { ...input };\n    res[p] = value >= 0 ? value : 0;\n\n    setInput(res);\n  };\n\n  return (\n    <div className={\"offer_form_root\"}>\n      <Parachute {...props} />\n      <form className={\"offer_form\"} onSubmit={handleSubmit}>\n        {players.map((p) => {\n          return (\n            <PlayerInput\n              value={input[p]}\n              player={p}\n              onChange={onChangeHandler(p)}\n            />\n          );\n        })}\n        <p>{`Total input: ${input.P1 + input.P2 + input.P3}, Expected input: ${\n          coalitionsValues[coalitionForOffer]\n        }`}</p>\n        <input\n          type=\"submit\"\n          value=\"Submit\"\n          disabled={\n            input.P1 + input.P2 + input.P3 !==\n            coalitionsValues[coalitionForOffer]\n          }\n        />\n      </form>\n    </div>\n  );\n};\n\ninterface inputPros {\n  player: Player;\n  value: number;\n  onChange: (value: number) => void;\n}\n\nconst PlayerInput = (props: inputPros) => {\n  const { player, value, onChange } = props;\n  return (\n    <div className={\"offer_input\"}>\n      <label>{player} will get:</label>\n      <input\n        type=\"number\"\n        value={value}\n        onChange={(e) => onChange(parseInt(e.target.value) || 0)}\n      />\n    </div>\n  );\n};\n","import {\n  AckStatus,\n  CoalitionId,\n  GameCoalitionsValues,\n  Offer,\n  Player,\n  respStatus,\n} from \"../types/game\";\nimport React from \"react\";\nimport { Parachute } from \"./Parachute\";\n\ninterface props {\n  coalitionForOffer: CoalitionId;\n  coalitionsValues: GameCoalitionsValues;\n  players: Player[];\n  currentTurn: Player;\n  offers: Array<Offer>;\n  onOfferRespond: (p: Player, response: respStatus) => void;\n}\n\nexport const AckForm = (props: props) => {\n  const { onOfferRespond } = props;\n  const latestOffer = props.offers[props.offers.length - 1];\n\n  const relevantAckStatus = (status: AckStatus) => {\n    return status !== \"NON_RELEVANT\" && status !== \"PROPOSED\";\n  };\n\n  const handleOnClick = (p: Player) => {\n    return (status: respStatus) => {\n      onOfferRespond(p, status);\n\n      console.log(`Clicked ${p},${status} `);\n    };\n  };\n\n  return (\n    <div className={\"ack_form_root\"}>\n      <Parachute {...props} />\n      <div className={\"ack_form\"}>\n        {[Player.P1, Player.P2, Player.P3].map((p: Player, idx: number) => {\n          return (\n            relevantAckStatus(latestOffer[p]) && (\n              <SingleSelect\n                key={idx}\n                onClick={handleOnClick(p)}\n                player={p}\n                disabled={latestOffer[p] !== \"TBD\"}\n              />\n            )\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\ninterface toggleProps {\n  player: Player;\n  onClick: (status: respStatus) => void;\n  disabled?: boolean;\n}\n\nconst SingleSelect = (props: toggleProps) => {\n  const { player, onClick, disabled } = props;\n  return (\n    <div className=\"single_ack\">\n      <p\n        className={\"question\"}\n      >{`${player}, What do you think about the offer?`}</p>\n      <div className={\"answer\"}>\n        <span>Looks good!</span>\n        <button\n          className={\"accept\"}\n          onClick={() => onClick(\"ACCEPT\")}\n          disabled={disabled}\n        >\n          Accept\n        </button>\n      </div>\n      <div className={\"answer\"}>\n        <span>No way!</span>\n        <button\n          className={\"reject\"}\n          onClick={() => onClick(\"REJECT\")}\n          disabled={disabled}\n        >\n          Reject\n        </button>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { allPlayers, Offer, Player } from \"../types/game\";\nimport { latestAcceptedOffer } from \"../types/helpers\";\n\nconst getSuggestedBy = (o: Offer) => {\n  if (o[Player.P1] == \"PROPOSED\") {\n    return Player.P1;\n  }\n\n  if (o[Player.P2] == \"PROPOSED\") {\n    return Player.P2;\n  }\n\n  if (o[Player.P3] == \"PROPOSED\") {\n    return Player.P3;\n  }\n\n  return \"Initial\";\n};\n\nconst getRejectedBy = (o: Offer) => {\n  if (o[Player.P1] == \"REJECTED\") {\n    return Player.P1;\n  }\n\n  if (o[Player.P2] == \"REJECTED\") {\n    return Player.P2;\n  }\n\n  if (o[Player.P3] == \"REJECTED\") {\n    return Player.P3;\n  }\n};\n\ninterface singleOfferProps {\n  offer: Offer;\n}\n\nexport const SingleOffer = (props: singleOfferProps) => {\n  const { offer: o } = props;\n  return (\n    <li>\n      <span>{`suggested by: ${getSuggestedBy(o)}`}</span>\n      <span>{`Values: P1: ${o.split.P1}, P2: ${o.split.P2}, P3: ${o.split.P3}`}</span>\n      <span>{`Rejected by: ${getRejectedBy(o)}`}</span>\n    </li>\n  );\n};\n\ninterface listOfOffersProps {\n  offers: Array<Offer>;\n}\n\nexport const ListOfOffers = (props: listOfOffersProps) => {\n  const { offers } = props;\n  return (\n    <ul className={\"list_offers\"}>\n      {offers.map((offer) => (\n        <SingleOffer offer={offer} />\n      ))}\n    </ul>\n  );\n};\n\ninterface props {\n  offers: Array<Offer>;\n}\n\nexport const FinishScreen = (props: props) => {\n  const lao = latestAcceptedOffer(props.offers);\n  return (\n    <div>\n      The game was finished and we have a coalition !!\n      {allPlayers.map((p) => {\n        return (\n          <p>\n            {`${p} gets `}\n            <span className={\"finish_value\"}>{`${lao.split[p]}`}</span>\n          </p>\n        );\n      })}\n      <ListOfOffers {...props} />\n    </div>\n  );\n};\n","import { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { GameScreen, StateShape } from \"../store/state\";\nimport {\n  GameAction,\n  giveUp,\n  respondOffer,\n  restartGame,\n  selectCoalition,\n  startGame,\n  submitOffer,\n  undo,\n} from \"../store/actions\";\nimport { App } from \"../ui/App\";\nimport {\n  CoalitionId,\n  GameCoalitionsValues,\n  Offer,\n  Player,\n  respStatus,\n  Split,\n} from \"../types/game\";\n\nconst defaultGame: GameCoalitionsValues = {\n  \"12\": 70,\n  \"13\": 60,\n  \"23\": 50,\n  \"123\": 100,\n};\n\nconst defaultOffer: Offer = {\n  P1: \"NON_RELEVANT\",\n  P2: \"ACCEPTED\",\n  P3: \"ACCEPTED\",\n  actor: Player.P2,\n  selectedCoalition: \"23\",\n  split: {\n    P1: 0,\n    P2: 25,\n    P3: 25,\n  },\n};\n\ninterface DispatchProps {\n  onGameStart: () => void;\n  onGameRestart: () => void;\n  onCoalitionSelect: (c: CoalitionId) => void;\n  onOfferSubmit: (\n    split: Split,\n    coalitionId: CoalitionId,\n    offerFrom: Player\n  ) => void;\n  onOfferRespond: (p: Player, response: respStatus) => void;\n  onUndo: () => void;\n  onGiveUp: () => void;\n}\n\ninterface StateProps {\n  coalitionsValues: GameCoalitionsValues;\n  screen: GameScreen;\n  players: Array<Player>;\n  currentTurn: Player;\n  coalitionForOffer: CoalitionId;\n  offers: Array<Offer>;\n}\n\ninterface OwnProps {}\n\nexport type AppContainerProps = DispatchProps & StateProps;\n\nconst mapStateToProps = (state: StateShape): StateProps => {\n  return {\n    screen: state.screen,\n    coalitionsValues: state.coalitionsValues,\n    players: state.players,\n    currentTurn: state.currentTurn,\n    coalitionForOffer: state.coalitionForOffer,\n    offers: state.offers,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<GameAction>): DispatchProps => {\n  return {\n    onUndo: () => dispatch(undo()),\n    onCoalitionSelect: (c: CoalitionId) => dispatch(selectCoalition(c)),\n    onGameRestart: () => dispatch(restartGame()),\n    onGameStart: () => dispatch(startGame(defaultGame, defaultOffer)),\n    onOfferSubmit: (\n      split: Split,\n      coalitionId: CoalitionId,\n      offerFrom: Player\n    ) => dispatch(submitOffer(split, coalitionId, offerFrom)),\n    onOfferRespond: (p: Player, response: respStatus) =>\n      dispatch(respondOffer(p, response)),\n    onGiveUp: () => dispatch(giveUp()),\n  };\n};\n\nconst AppContainer = connect<StateProps, DispatchProps, OwnProps, StateShape>(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n\nexport { AppContainer as App };\n","import React from \"react\";\nimport \"../stylesheets/App.css\";\nimport \"../stylesheets/sliders.css\";\nimport { TopBar } from \"./TopBar\";\nimport { AppContainerProps } from \"../containers/AppContainer\";\nimport { Intro } from \"./Intro\";\nimport { Container } from \"./Container\";\nimport { SelectCoalition } from \"./SelectCoalition\";\nimport { OfferForm } from \"./OfferForm\";\nimport { AckForm } from \"./AckForm\";\nimport { FinishScreen } from \"./Finished\";\n\nexport const App = (props: AppContainerProps) => {\n  const {\n    onGameStart,\n    screen,\n    onCoalitionSelect,\n    coalitionForOffer,\n    onUndo,\n  } = props;\n  return (\n    <React.Fragment>\n      <TopBar\n        onStartGame={onGameStart}\n        onIntroClick={props.onGameRestart}\n        screen={screen}\n        onUndo={onUndo}\n      />\n      <Container className={\"app\"}>\n        {screen === \"INTRO\" && <Intro />}\n        {screen === \"SELECT_COAL\" && (\n          <SelectCoalition {...props} onCoalitionSelect={onCoalitionSelect} />\n        )}\n        {screen === \"OFFER\" && <OfferForm {...props} />}\n        {screen === \"ACK\" && <AckForm {...props} />}\n        {screen === \"FINISHED\" && <FinishScreen {...props} />}\n      </Container>\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { storeFactory } from \"./store\";\nimport { Provider } from \"react-redux\";\nimport { defaultState } from \"./store/state\";\nimport { App } from \"./containers/AppContainer\";\n\nconst appInitialState = localStorage[\"redux-store\"]\n  ? JSON.parse(localStorage[\"redux-store\"])\n  : defaultState;\n\nconst saveState = () =>\n  (localStorage[\"redux-store\"] = JSON.stringify(store.getState()));\n\nconst store = storeFactory(appInitialState);\nstore.subscribe(saveState);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}